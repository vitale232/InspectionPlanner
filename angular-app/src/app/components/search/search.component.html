<div class="search-panel">
  <div *ngIf="!detailsPanelOpen">
    <div *ngIf="!driveTimeSearchToggle; else elseBlock">
      <mat-form-field class="form-field"
                      appearance="outline"
                      color="accent">
        <input matInput color="warn">
        <mat-label>
          Search address or place name
        </mat-label>
        <button matSuffix
                mat-icon-button
                (click)="onClick()"
                aria-label="Execute search">
          <mat-icon>search</mat-icon>
        </button>
      </mat-form-field>
    </div>
    <ng-template #elseBlock>
      <mat-form-field class="form-field" appearance="outline" color="accent">
        <input matInput placeholder="Input">
        <mat-label>
          Search address or place name
        </mat-label>
      </mat-form-field>
          <!-- <form> -->
      <mat-form-field appearance="outline" color="accent" class="form-field">
        <mat-label>Max drive time </mat-label>
        <mat-select [(ngModel)]="selectedTimeInterval" name="time">
          <mat-option *ngFor="let time of timeIntervals" [value]="time.value">
            {{time.viewValue}}
          </mat-option>
        </mat-select>
      </mat-form-field>
        <!-- </form> -->
        <div class="pad-button">
          <button mat-flat-button 
                  (click)="onClick()"
                  color="primary"
                  class="center-button"> Search </button>
        </div> 
    </ng-template>

    <mat-slide-toggle [(ngModel)]="driveTimeSearchToggle" class="selection-input">
      Drive Time Search
      </mat-slide-toggle>

  </div>


  <mat-expansion-panel (opened)="detailsPanelOpen = true;"
                      (closed)="detailsPanelOpen = false;">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Search filters
      </mat-panel-title>
    </mat-expansion-panel-header>

    <mat-form-field class="detailed-form-field" color="accent">
      <input matInput placeholder="Street address">
    </mat-form-field>

    <mat-form-field class="detailed-form-field" color="accent">
      <input matInput placeholder="City">
    </mat-form-field>

    <mat-form-field class="detailed-form-field" color="accent">
      <input matInput value="NY" placeholder="State">
    </mat-form-field>

    <mat-form-field class="detailed-form-field" color="accent">
      <input matInput value="USA" placeholder="Country">
    </mat-form-field>

    <button mat-flat-button
            color="primary"
            (click)="onClick()"
            class="center-button">
      Search
    </button>
  </mat-expansion-panel>

  <div *ngIf="driveTimeQueriesData">
    <mat-expansion-panel
      (opened)="pastPanelOpen = true;"
      (closed)="pastPanelOpen = false;">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Search history
        </mat-panel-title>
      </mat-expansion-panel-header>
      <mat-action-list>
        <button mat-list-item
                class="small-font"
                matTooltip="{{ name.longName }}"
                matTooltipShowDelay="1000"
                (click)="onClick()"
                *ngFor="let name of driveTimeQueriesText">
          {{ name.shortName }}
        </button>
      </mat-action-list>
    </mat-expansion-panel>
  </div>

</div>