<div *ngIf="markerClusterData && loading$ | async as loading" class="overlay">
  <mat-progress-bar mode="query" color="accent"></mat-progress-bar>
</div>

<div leaflet class="full-height"
     *ngIf="markerClusterData"
     [leafletOptions]="options"
     [leafletMarkerCluster]="markerClusterData"
     (leafletMapReady)="onMapReady($event)"
     (window:resize)="onResize($event)"
    >
  <div *ngIf="polygonLayer" [leafletLayer]="polygonLayer"></div>
</div>

<div *ngIf="!markerClusterData" class="full-height" fxLayout="column" fxLayoutAlign="center center">
    <div><mat-spinner color="accent"></mat-spinner></div>
    <div><p>Loading...</p></div>
</div>
